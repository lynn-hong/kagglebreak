{% extends 'website/databreak2018/base.html' %}
{% load staticfiles %}
{% block content %}
            <script src="{% static 'databreak2018/js/notify.js' %}"></script>
            <script>
				$.notify("갤러리 항목이 추가되었습니다!", "success");
				$.notify("발표자료가 업로드 되었습니다!", "success");
				$.notify("새로운 공지가 있습니다!", "success");
			</script>
			<!-- start banner Area -->
			<section class="banner-area relative" id="banner">
				<div class="overlay overlay-bg"></div>
				<div class="container">
					<div id="main-page-height"
						 class="row fullscreen d-flex align-items-center justify-content-center">
						<script>
							document.getElementById('main-page-height').style.height = window.innerHeight;
						</script>
						<div class="banner-content col-lg-9 col-md-12">
							<h6 class="main-info">캐글러와 데이터 과학자의 놀이터</h6>
							<h1 class="text-white">
								<img class="pacman_img" src="{% static 'databreak2018/img/pacman.png' %}">
								DataBreak 2018:
								<span style="font-family: 'Share Tech Mono'; display: block;">Hello Kaggler!</span>
							</h1>
							<div class="countdown">
								<div id="timer" class="text-white"></div>
							</div>
							<h4 class="main-info"><span class="lnr lnr-calendar-full"></span>2018. 10. 7(Sun) 오전 10시 ~ 오후 6시 30분</h4>
							<h4 class="main-info"><span class="lnr lnr-map"></span>마이크로소프트 광화문오피스 (K-twin 타워 A동 11층)</h4>
						</div>											
					</div>
				</div>
			</section>
			<!-- End banner Area -->				
	
			<!-- Start about Area -->
			<section class="home-video-area" id="about">
				<div class="container-fluid">
					<div class="row justify-content-end align-items-center">
						<div class="col-lg-4 no-padding about-right">
							<p class="top-title">무슨 행사인가요?</p>
							<h1>DataBreak 2018
								<img class="pacman_img" style="height: 32px;"
									 src="{% static 'databreak2018/img/ghost_black.png' %}">
							</h1>
							<p><span>Data science를 쉽게 뽀개기 위한 오프라인 워크샵</span></p>
							<p>
								DataBreak(데이터뽀개기)는 오프라인에서 국내 캐글러, 분석 실무자 등
								데이터 분석에 관심있는 다양한 분야의 사람들 간 네트워킹할 수 있는 분석 워크샵입니다.
								처음 라면을 끓이는 사람처럼 데이터 과학을 쉽게 입문(뽀갤 수) 할 수 있는 방법을 공유하고자 합니다.
							</p>
						</div>
						<section class="video-area col-lg-6 no-padding">
							<div class="overlay overlay-bg"></div>
							<div class="containers">
								<div class="video-content">
									<img class="img-fluid" src="{% static 'databreak2018/img/about/poster_for_web.png' %}" alt="">
								</div>
							</div>
						</section>											
					</div>
				</div>	
			</section>
			<!-- End home-aboutus Area -->


			<!-- Start home-aboutus Area -->
			<section class="home-aboutus-area">
				<div class="container-fluid">
					<div class="row align-items-center">
						<div class="col-lg-7 no-padding about-left">
							<img class="img-fluid"
                                 src="{% static 'databreak2018/img/about/kaggle_package_s.png' %}" alt="">
						</div>
						<div class="col-lg-4 no-padding about-right">
							<p class="top-title">2018년의 주제가 무엇인가요?</p>
							<h1 class="text-white">Hello Kaggler!
								<img style="width: 32px;" src="{% static 'databreak2018/img/ghost.png' %}">
							</h1>
							<p><span>데이터 과학의 놀이터인 캐글을 알리고, 데이터 분석으로 가치를 낼 수 있는 인사이트를 이야기하는 자리</span></p>
							<p>
								데이터뽀개기 2018년 행사 컨셉은 "Hello Kaggler!",
								국내 캐글러가 모여서 캐글 경험기, 머신러닝, 탐색적 데이터 분석, 분석 자동화, 시각화 및 대시보드 등의 주제에서
								데이터 분석으로 가치를 낼 수 있는 인사이트를 이야기하는 자리입니다.
							</p>
							<p>
								"Hello World!"와 같이 가장 간단한 표현처럼
								비전공자 또는 분석에 관심있는 학생/개발자들이 데이터 과학의 놀이터인 캐글 플랫폼을 통해
								데이터 분석에 관심을 갖고 입문하길 바라는 마음입니다.
								'데이터뽀개기 2018'을 시작으로 매년 캐글뽀개기(KaggleBreak)와 함께 데이터를 뽀개 나가면 좋겠습니다.
							</p>
						</div>
					</div>
				</div>	
			</section>
			<!-- End home-aboutus Area -->


			<!-- Start speakers Area -->
			<section class="spekers-area pb-100" id="speakers">
				<div class="container section-top-border" style="margin-top: 100px;">
					<div class="row d-flex justify-content-center">
						<div class="menu-content pb-70 col-lg-8">
							<div class="title text-center">
								<h1 class="mb-10">우리의 발표자들</h1>
								<p>아래 링크에서 공개가 허락된 발표자료를 다운로드할 수 있습니다.</p>
                                <a href="/databreak2018/speakers"
                                   class="genric-btn primary circle arrow"
                                   target="_blank">
                                    발표 세션 전체보기(다운로드)<span class="lnr lnr-arrow-right"></span>
                                </a>
							</div>
						</div>
					</div>
				</div>
				<div class="container-fluid">
					<div class="row no-padding">
						<div class="active-speaker-carusel col-lg-12 no-padding">
							{% for sp in speakers %}
							<div class="single-speaker item">
								<div class="container">
									<div class="row align-items-center">
										<div class="col-md-6 speaker-img no-padding">
											<img src="{{ sp.m__picture }}" alt="">
										</div>
										<div class="col-md-6 speaker-info no-padding">
											<h6 class="text-uppercase">speaker</h6>
											<h1 class="text-white">{{ sp.m__name }}</h1>
											<ul>
												{% for sp_c in sp.contacts %}
													{% if sp_c.contact_type == 'email' %}
														<a class="icon-circle"
														   target="_blank" href=mailto:{{ sp_c.url }}>
															<i class="fa fa-envelope-o"></i>
														</a>
													{% else %}
														<a class="icon-circle"
														   target="_blank" href={{ sp_c.url }}>
															<i class="fa fa-{{ sp_c.contact_type }}"></i>
														</a>
													{% endif %}
												{% endfor %}
											</ul>
											<h4 class="text-white" style="margin-bottom: 15px;">
												{{ sp.m__affiliation }}
											</h4>
											<p>
												{{ sp.m__interest }}
											</p>
											<h4 class="text-white"
												style="padding: 15px 0 5px 0; font-style: italic;">
												{{ sp.title }}
											</h4>
											<p>
												{{ sp.summary }}
											</p>
										</div>
									</div>
								</div>								
							</div>
							{% endfor %}
						</div>
					</div>
				</div>	
			</section>
			<!-- End spekers Area -->
			

			<!-- Start Keynote speaker Area -->
			<div class="title text-center" id="keynote" style="margin-top: 50px;">
				<h1 class="mb-60">Keynote speaker</h1>
			</div>
			{% for pt in pts %}
			<section id="speech">
				<div class="whole-wrap mb-60">
					<div class="container">
						<div>
							<p><b>KEYNOTE SPEAKER</b></p>
							<h2 class="mb-30">"{{ pt.title }}"</h2>
							<ul class="unordered-list">
								<li><h3 class="mb-30">장소: Room A~C (전체)</h3></li>
								<li><h3 class="mb-30">시간: {{ pt.s_time }}~{{ pt.e_time }}</h3></li>
							</ul>
							<div class="row">
								<div class="col-md-3 mb-30">
								{% ifnotequal pt.m__name "캐글뽀개기" %}
									<img src={{ pt.m__picture }} alt="" class="img-fluid">
								{% else %}
									<img src="{% static 'databreak2018/img/about/poster_for_web.png' %}" class="img-fluid">
								{% endifnotequal %}
								</div>
								<div class="col-md-9 mt-sm-20">
									{% ifnotequal pt.m__name "캐글뽀개기" %}
										<h2 class="mb-20 icon-right-padding" style="display: inline-block; float: left;">
											<i class="fa fa-user-circle icon-right-padding" aria-hidden="true"></i>
											발표자: {{ pt.m__name }}
										</h2>
										<ul>
											{% for sp_c in pt.contacts %}
												{% if sp_c.contact_type == 'email' %}
													<a class="icon-circle"
													   target="_blank" href=mailto:{{ sp_c.url }}
													   style="margin: 5px 0 23px 0;">
														<i class="fa fa-envelope-o"></i>
													</a>
												{% else %}
													<a class="icon-circle"
													   target="_blank" href={{ sp_c.url }}
													   style="margin: 5px 0 23px 0;">
														<i class="fa fa-{{ sp_c.contact_type }}"></i>
													</a>
												{% endif %}
											{% endfor %}
										</ul>
										<h4 class="mb-30">
											<i class="fa fa-id-card icon-right-padding" aria-hidden="true"></i>
											{{ pt.m__affiliation }}</h4>
										<h4 class="mb-30">
											<i class="fa fa-commenting icon-right-padding" aria-hidden="true"></i>
											관심분야: {{ pt.m__interest }}
										</h4>
									{% endifnotequal %}
									<h4 class="mb-10">
											<i class="fa fa-file-text icon-right-padding" aria-hidden="true"></i>
											소개
									</h4>
									<p style="color: black;">
										{{ pt.m__introduction }}
									</p>
									<blockquote class="generic-blockquote">"{{ pt.summary }}"</blockquote>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>
			{% endfor %}


			<!-- Start schedule Area -->
			<section class="schedule-area pb-100" id="schedule">
				<div class="container">
					<div class="row d-flex justify-content-center">
						<div class="menu-content pb-70 col-lg-8">
							<div class="title text-center">
								<h1 class="mb-10">Speech Schedule</h1>
								<p>혹시 스케쥴이 보이지 않으시면 Day <-> Agenda 뷰를 한번 클릭해주세요 :)</p>
							</div>
						</div>
					</div>

					<div id="scheduler"></div>
				</div>	
			</section>
			<!-- End schedule Area -->
			<script src="{% static 'databreak2018/js/vendor/jquery-2.2.4.min.js' %}"></script>
			<script type="text/javascript">

				window.mobilecheck = function() {
				  var check = false;
				  (function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);
				  return check;
				};
				var rooms = [
					{id: 1, text: "Room A", color: "#3BB6ED"},
					{id: 2, text: "Room B", color: "#EF65AD"},
					{id: 3, text: "Room C", color: "#e0b52a"},
					{id: 4, text: "Hall", color: "#664E99"}
				];
				var resources = [
					{
						fieldExpr: 'roomId',
						dataSource: rooms,
						allowMultiple: false
					}
				];


				var speech_data = '{{ schedule | safe }}';
				var speeches = JSON.parse(speech_data);
				var i;
				for (i = 0; i < speeches.length; i++) {
				    var s = speeches[i]['startDate'].split(/[^0-9]/);
				    var e = speeches[i]['endDate'].split(/[^0-9]/);
					speeches[i]['startDate'] = new Date(s[0],s[1]-1,s[2],s[3],s[4],s[5]);
					speeches[i]['endDate'] = new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5]);
					speeches[i]['title'] = speeches[i]['text'];
					speeches[i]['text'] = "(" + rooms[speeches[i]['roomId']-1].text + ") " + speeches[i]['text']
				}
				$(function () {
					$("#scheduler").dxScheduler({
						dataSource: speeches,
						resources: resources,
						currentDate: new Date(2018, 9, 7, 10, 0),
						startDayHour: 10,
						endDayHour: 19,
						currentView: window.mobilecheck() ? "agenda" : "day",
						views: [{
									type: "day",
									groups: ['roomId'],
									groupOrientation: "horizontal",
									appointmentTemplate: function(data, index, element) {
										if (data.isFull){
											setTimeout(() => {
											  var w = $(".dx-scheduler-date-table-cell").width();
											  element.parent().css("width", w*(4-data.roomId)+((4-data.roomId)*2));
											});
										} else{
											setTimeout(() => {
											  var w = $(".dx-scheduler-date-table-cell").width();
											  element.parent().css("width", w);
											});
										}
										if (data.managing && data.roomId!=4){
											setTimeout(() => {
											  element.parent().css("background-color", 'darkgray');
											});
										}
										return "item";
									}
								}, {
									type: "agenda",
									groupOrientation: "horizontal"
								}
							],
						onAppointmentClick: function(e){
							var url = "{% url 'speech' pk=999 %}";
						    var id = e.appointmentData.id;
							document.location.href = url.replace('999', id);

						    console.log(url.replace('999', id));
						},
						editing: {
							allowAdding: false,
							allowDeleting: false,
							allowDragging: false,
							allowResizing: false,
							allowUpdating: false
						}
					});
				});
			</script>
			<script type="text/javascript"
					src="{% static 'databreak2018/js/dx.all.js' %}"></script>

{% endblock %}